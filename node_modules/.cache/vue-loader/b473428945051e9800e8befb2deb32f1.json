{"remainingRequest":"/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/src/views/managelist/ProductEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/src/views/managelist/ProductEdit.vue","mtime":1564041920019},{"path":"/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thanakritchaukhajung/Desktop/01-08-2019/ezpay-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\nimport axios from \"axios\";\r\n\r\nimport Index from '@/views/home/Index';\r\nimport Navbarweb from '@/views/home/Navbarweb';\r\nimport Register from '@/views/home/Register';\r\nimport Login from '@/views/home/Login';\r\n\r\nexport default {\r\n    components: {\r\n    Index,\r\n    Register,\r\n    Navbarweb,\r\n    Login\r\n  },\r\n   data() {\r\n    return {\r\n        form : {\r\n            status_id : '',\r\n            name_product:'',\r\n            price_product:'',\r\n            status_name2:'',\r\n        },\r\n        options: {\r\n            id_status : [],\r\n            name_product : [],\r\n            price_product :[],\r\n            slot_product : [],\r\n            status_name : [],\r\n            id_status2 : [],\r\n            slot_product_have : [],\r\n            slot_product_zz : [5,2,6,4],\r\n            slot_all :[1,2,3,4,5,6,7,8,9,10],\r\n        }\r\n    }\r\n   },\r\n   \r\n  created() {\r\n      this.getdata()\r\n      this.geteditdata()\r\n      this.getslotproductdata();\r\n  },\r\n    methods: {\r\n\r\n    DirectProduct() {\r\n        this.$router.push({ name : \"product\"});\r\n    },\r\n    slot_no_have() {\r\n        this.$router.push({ name : \"product\"});\r\n    },\r\n    getdata() {\r\n        axios.get('https://ezpayapp.azurewebsites.net/api/getmasterdata')\r\n        .then(res => {\r\n             this.options.id_status = res.data;\r\n        })\r\n    },\r\n    geteditdata(){\r\n        const productid = localStorage.getItem('product_id')\r\n        axios.get('https://ezpayapp.azurewebsites.net/api/getproductedit/'+ productid)\r\n        .then(res => {\r\n            this.form.name_product = res.data.name_product;\r\n            this.form.price_product = res.data.price_product;\r\n            this.form.slot_product = res.data.slot_product;\r\n            this.form.status_name2 = res.data.status_name;\r\n            this.options.id_status3 = res.data.status_id;\r\n        })\r\n    },\r\n    getslotproductdata(){\r\n        const shopid = localStorage.getItem('shopid')\r\n        axios.get('https://ezpayapp.azurewebsites.net/api/numslotproduct/'+ shopid)\r\n        .then(res => {\r\n            this.options.slot_product_have = res.data.slot_product;\r\n            console.log(res.data)\r\n        })\r\n    },\r\n    seteditdata(){\r\n        const productid = localStorage.getItem('product_id')\r\n        axios.put('https://ezpayapp.azurewebsites.net/api/updateproduct/'+ productid,this.form)\r\n        .then(res => {\r\n            this.alertify.success('Success message');\r\n            localStorage.removeItem('product_id');\r\n            setTimeout(() => this.isHidden = false, 500);\r\n            this.$router.push({ name : \"product\"});\r\n        })\r\n\r\n    },\r\n  }\r\n}\r\n",{"version":3,"sources":["ProductEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ProductEdit.vue","sourceRoot":"src/views/managelist","sourcesContent":["<template>\r\n    <div>\r\n        <Navbarweb></Navbarweb>\r\n        <br><br>\r\n        <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-body text-center\">\r\n                    <div class=\"container\">\r\n                        <div class=\"row justify-content-center\">\r\n                            <div class=\"col-lg-8\">\r\n                                <!-- Portfolio Modal - Title -->\r\n                                <h2 class=\"portfolio-modal-title text-secondary text-uppercase mb-0\">แก้ไขสินค้า</h2>\r\n                                <!-- Icon Divider -->\r\n                                <div class=\"divider-custom\">\r\n                                    <div class=\"divider-custom-line\"></div>\r\n                                    <div class=\"divider-custom-icon\">\r\n                                        <i class=\"fas fa-star\"></i>\r\n                                    </div>\r\n                                    <div class=\"divider-custom-line\"></div>\r\n                                </div>\r\n                                ชื่อสินค้า       <br> <input type=\"text\" align=\"center\" name=\"productname\" v-model=\"form.name_product\"><br><br>\r\n                                ราคาสินค้า     <br> <input type=\"text\" align=\"center\" name=\"productprice\" v-model=\"form.price_product\"><br><br>\r\n                                ช่องที่ขายสินค้า \r\n                                <select v-model=\"form.slot_product\">\r\n                                    <option value=NULL>ว่าง</option>\r\n                                    <option v-for=\"index in 20\" :key=\"index\">\r\n                                            <option value=index>{{index}}</option>\r\n                                    </option>\r\n                                </select>\r\n                                \r\n                                สถานะสินค้า\r\n                                <select v-model=\"form.status_id\"  name=\"status_id\">\r\n                                    <option v-bind:value=\"options.id_status3\">{{form.status_name2}}</option>\r\n                                    <option v-bind:value=\"option.status_id\" v-for=\"(option,id_status) in options.id_status\" :key=\"id_status\">\r\n                                        {{option.status_name}}\r\n                                    </option>\r\n                                </select>\r\n                                <br><br>\r\n                               \r\n                                <button class=\"btn btn-primary\" href=\"#\" @click=\"seteditdata()\" data-dismiss=\"modal\" type=\"submit\" value=\"Submit\">ยืนยัน</button>&nbsp;\r\n                                <button class=\"btn btn-primary\" href=\"#\" data-dismiss=\"modal\">รีเซ็ต</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nimport Index from '@/views/home/Index';\r\nimport Navbarweb from '@/views/home/Navbarweb';\r\nimport Register from '@/views/home/Register';\r\nimport Login from '@/views/home/Login';\r\n\r\nexport default {\r\n    components: {\r\n    Index,\r\n    Register,\r\n    Navbarweb,\r\n    Login\r\n  },\r\n   data() {\r\n    return {\r\n        form : {\r\n            status_id : '',\r\n            name_product:'',\r\n            price_product:'',\r\n            status_name2:'',\r\n        },\r\n        options: {\r\n            id_status : [],\r\n            name_product : [],\r\n            price_product :[],\r\n            slot_product : [],\r\n            status_name : [],\r\n            id_status2 : [],\r\n            slot_product_have : [],\r\n            slot_product_zz : [5,2,6,4],\r\n            slot_all :[1,2,3,4,5,6,7,8,9,10],\r\n        }\r\n    }\r\n   },\r\n   \r\n  created() {\r\n      this.getdata()\r\n      this.geteditdata()\r\n      this.getslotproductdata();\r\n  },\r\n    methods: {\r\n\r\n    DirectProduct() {\r\n        this.$router.push({ name : \"product\"});\r\n    },\r\n    slot_no_have() {\r\n        this.$router.push({ name : \"product\"});\r\n    },\r\n    getdata() {\r\n        axios.get('https://ezpayapp.azurewebsites.net/api/getmasterdata')\r\n        .then(res => {\r\n             this.options.id_status = res.data;\r\n        })\r\n    },\r\n    geteditdata(){\r\n        const productid = localStorage.getItem('product_id')\r\n        axios.get('https://ezpayapp.azurewebsites.net/api/getproductedit/'+ productid)\r\n        .then(res => {\r\n            this.form.name_product = res.data.name_product;\r\n            this.form.price_product = res.data.price_product;\r\n            this.form.slot_product = res.data.slot_product;\r\n            this.form.status_name2 = res.data.status_name;\r\n            this.options.id_status3 = res.data.status_id;\r\n        })\r\n    },\r\n    getslotproductdata(){\r\n        const shopid = localStorage.getItem('shopid')\r\n        axios.get('https://ezpayapp.azurewebsites.net/api/numslotproduct/'+ shopid)\r\n        .then(res => {\r\n            this.options.slot_product_have = res.data.slot_product;\r\n            console.log(res.data)\r\n        })\r\n    },\r\n    seteditdata(){\r\n        const productid = localStorage.getItem('product_id')\r\n        axios.put('https://ezpayapp.azurewebsites.net/api/updateproduct/'+ productid,this.form)\r\n        .then(res => {\r\n            this.alertify.success('Success message');\r\n            localStorage.removeItem('product_id');\r\n            setTimeout(() => this.isHidden = false, 500);\r\n            this.$router.push({ name : \"product\"});\r\n        })\r\n\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n"]}]}